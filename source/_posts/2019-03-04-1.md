title: JVMå†…æ ¸-åŸç†ã€è¯Šæ–­ä¸ä¼˜åŒ–å­¦ä¹ ç¬”è®°ï¼ˆåï¼‰ï¼šClassæ–‡ä»¶ç»“æ„
author: Leesin.Dong
top: 
tags:
  - JVM
categories:
  - å­¦ä¹ ç¬”è®°
  - JVMå†…æ ¸-åŸç†ã€è¯Šæ–­ä¸ä¼˜åŒ–å­¦ä¹ ç¬”è®°
date: 2019-3-4 10:21:02

---

# è¯­è¨€æ— å…³æ€§
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](../images/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2RhdGFpeWFuZ3U=,size_16,color_FFFFFF,t_70-20190304160708704.png)
.classæ–‡ä»¶èƒ½å¤Ÿåœ¨JVMä¸Šè¿è¡Œï¼Œä¸Šå›¾å¯ä»¥çœ‹å‡ºè®¸å¤šè¯­è¨€rbã€groovyç­‰éƒ½èƒ½ç¼–è¯‘æˆ.classæ–‡ä»¶ï¼Œæ‰€ä»¥javaå’ŒJVMæ˜¯ç›¸å¯¹ç‹¬ç«‹çš„ä¸¤éƒ¨åˆ†ã€‚ 
åŒæ ·èƒ½å¾—å‡ºç»“è®ºï¼šclassæ–‡ä»¶æ˜¯JVMçš„åŸºçŸ³
# æ–‡ä»¶ç»“æ„
| ç±»å‹ | åç§° |æ•°é‡|æè¿°|
|--|--|--|--|
| u4 |  magic|1 |é­”æ•°ï¼Œä¹Ÿå«magic numberï¼Œæ•°å­—è¡¨ç¤ºæ˜¯å¦æ˜¯ä¸€ä¸ªjavaæ–‡ä»¶ 
| u2 |  minor_version|1 |å°ç‰ˆæœ¬
| u2 |  major_version|1 |å¤§ç‰ˆæœ¬
| u2 |  constant_pool_count|1 |å¸¸é‡æ± æ•°é‡çš„å±æ€§
| cp_info |  constant_pool|constant_pool_count - 1 |å¸¸é‡æ± çš„å†…å®¹ï¼Œå°±æ˜¯å¸¸é‡æ± çš„ä¸ªæ•°å‡ä¸€
| u2 |  access_flags|1 |è®¿é—®ä¿®é¥°ç¬¦ public privateç­‰
| u2 |  this_class|1 |å½“å‰ç±»
| u2 |  super_class|1 |è¶…ç±»ï¼Œå•ç»§æ‰¿
| u2 |  interfaces_count|1 |æ¥å£æ•°é‡çš„å±æ€§
| u2 |  interfaces|interfaces_count |æ¥å£
| u2 |  fields_count|1 |å­—æ®µæ•°é‡çš„å±æ€§
| field_info |  fields|fields_count |å­—æ®µ
| u2 |  methods_count|1 |æ–¹æ³•æ•°é‡çš„å±æ€§
| method_info|  methods|methods_count|æ–¹æ³•çš„ä¿¡æ¯
| u2 |  attribute_count|1 |å±æ€§æ•°é‡çš„å±æ€§
| attribute_info |  attributes|attributes_count |å±æ€§çš„ä¿¡æ¯

u1 u2 u3 u4è¡¨ç¤ºæ— ç¬¦å·çš„æ•´æ•°ï¼Œu1è¡¨ç¤º1ä¸ªbyteçš„æ•´æ•°ï¼Œu2è¡¨ç¤º2ä¸ªbyteçš„æ•´æ•°ï¼Œæ•°å­—è¡¨ç¤ºæ•´æ•°çš„é•¿åº¦ã€‚

## é­”æ•°

magic u4

 - 0xCAFEBABE

 4ä¸ªbyteçš„ä¸€ä¸ªæ•°å­—ï¼Œç”¨æ¥è¡¨ç¤ºå½“å‰æ–‡ä»¶æ˜¯ä¸€ä¸ªclassæ–‡ä»¶

## ç‰ˆæœ¬
minor_version u2
major_version u2
å½“è¿›è¡Œç¼–è¯‘çš„æ—¶å€™ç”¨ä»€ä¹ˆç‰ˆæœ¬çš„javacç¼–è¯‘å‡ºæ¥çš„classæ–‡ä»¶
-targetç›®æ ‡ç‰ˆæœ¬æ˜¯å¤šå°‘

JDK ç¼–è¯‘å™¨ç‰ˆæœ¬|  target å‚æ•°	            |å…­è¿›åˆ¶ minor.major	   |åè¿›åˆ¶major.minor                     
|--|--|--|--|                                                                               
jdk1.1.8| ä¸èƒ½å¸¦ target å‚æ•°	            |00 03 00 2D	       |45.3                            
jdk1.2.2| ä¸å¸¦(é»˜è®¤ä¸º -target 1.1)	    |       00 03 00 2D	   |45.3                            
jdk1.2.2| -target 1.2	            |       00 00 00 2E    |	46.0                        
jdk1.3.1_19| ä¸å¸¦(é»˜è®¤ä¸º -target 1.1)	|       00 03 00 2D	   |    45.3                        
jdk1.3.1_19| -target 1.3	        |       00 00 00 2F	|        47.0                       
j2sdk1.4.2_|	ä¸å¸¦(é»˜è®¤ä¸º -target 1.2)	|   00 00 00 2E	       |46.0                            
j2sdk1.4.2_|	-target 1.4	        |       00 00 00 30    |	48.0                        
jdk1.5.0_11| ä¸å¸¦(é»˜è®¤ä¸º -target 1.5)	|       00 00 00 31	   |    49.0                        
jdk1.5.0_11| -target 1.4 -source 1.4|           00 00 00 30|        48.0                    
jdk1.6.0_01| ä¸å¸¦(é»˜è®¤ä¸º -target 1.6)	|       00 00 00 32	   |    50.0                        
jdk1.6.0_01| -target 1.5	        |           00 00 00 31|        49.0                    
jdk1.6.0_01| -target 1.4 -source 1.4|           00 00 00 30|        48.0                    
jdk1.7.0| ä¸å¸¦(é»˜è®¤ä¸º -target 1.6)	    |       00 00 00 32	   |50.0                            
jdk1.7.0| -target 1.7	            |       00 00 00 33	   |    51.0                        
jdk1.7.0| -target 1.4 -source 1.4	|       00 00 00 30	   |    48.0                        

## å¸¸é‡æ± 
 **<font color="red"> åŸºæœ¬ä¸Šæ‰€æœ‰çš„æ•°æ®éƒ½æ˜¯å­˜åœ¨è¿™é‡Œï¼Œåé¢çš„ç±»åæ–¹æ³•åç­‰éƒ½æ˜¯é€šè¿‡ç´¢å¼•çš„æ–¹å¼æŒ‡å‘è¿™é‡Œï¼Œä¸€åˆ‡æ•°æ®çš„åŸºçŸ³ã€‚  </font>**

 - constant_pool_count u2
 - constant_pool  cp_info

 |-|-|-|                                                         
|--|--|--|                                                   
CONSTANT_Utf8		            |1|UTF-8ç¼–ç çš„Unicodeå­—ç¬¦ä¸²        
CONSTANT_Integer	            |3|	intç±»å‹çš„å­—é¢å€¼                
CONSTANT_Float		            |4|floatç±»å‹çš„å­—é¢å€¼               
CONSTANT_Long		            |5|longç±»å‹çš„å­—é¢å€¼                
CONSTANT_Double		            |6|doubleç±»å‹çš„å­—é¢å€¼              
CONSTANT_Class		            |7|å¯¹ä¸€ä¸ªç±»æˆ–æ¥å£çš„ç¬¦å·å¼•ç”¨              
CONSTANT_String		            |8|Stringç±»å‹å­—é¢å€¼çš„å¼•ç”¨            
CONSTANT_Fieldref	            |9|	å¯¹ä¸€ä¸ªå­—æ®µçš„ç¬¦å·å¼•ç”¨               
CONSTANT_Methodref	            |10|å¯¹ä¸€ä¸ªç±»ä¸­æ–¹æ³•çš„ç¬¦å·å¼•ç”¨             
CONSTANT_InterfaceMethodref	    |11|    å¯¹ä¸€ä¸ªæ¥å£ä¸­æ–¹æ³•çš„ç¬¦å·å¼•ç”¨        
CONSTANT_NameAndType	        |12|        å¯¹ä¸€ä¸ªå­—æ®µæˆ–æ–¹æ³•çš„éƒ¨åˆ†ç¬¦å·å¼•ç”¨  
### CONSTANT_Utf8
 - tag 1 (å¸¸é‡æ ‡è¯†ç¬¦ 1ä»£è¡¨UTF-8)
 - length u2 ï¼ˆUFT-8è¿™ä¸ªå­—ç¬¦ä¸²byteæ•°ç»„çš„é•¿åº¦ï¼‰
 - bytes[length]ï¼ˆUTF-8çš„å®é™…çš„å†…å®¹ï¼‰
  ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](../images/20190304071517995.png)
  ä¸‰ä¸ªUTF-8ç±»å‹çš„å¸¸é‡ï¼šå…ˆæ˜¾ç¤ºå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œ()I  è¡¨ç¤ºç©ºå‚è¿”å›å€¼æ˜¯intçš„æ•°ï¼Œ()Ljava/lang/Objectè¡¨ç¤ºç©ºå‚è¿”å›å€¼æ˜¯Objectï¼ŒcompareToè¡¨ç¤ºæ–¹æ³•çš„åç§°
### CONSTANT_Integer
- tag 3
- byte u4

```js
public static final int sid=99;
```
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](../images/20190304072028605.png)
### CONSTANT_String
- tag 8
- string_index  u2 (æŒ‡å‘utf8çš„ç´¢å¼•)
  å†…éƒ¨ä¸ç›´æ¥å­˜å‚¨å†…å®¹è€Œæ˜¯æŒ‡å‘UFT-8ï¼Œå®é™…çš„å†…å®¹ä¿å­˜åœ¨UTF-8ä¸­

```js
public static final String sname="geym";
```
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20190304072138569.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2RhdGFpeWFuZ3U=,size_16,color_FFFFFF,t_70)
### CONSTANT_NameAndType
- tag 12
- name_index u2 (åå­—ï¼ŒæŒ‡å‘utf8)
- descriptor_index u2 (æè¿°ç¬¦ç±»å‹ï¼ŒæŒ‡å‘utf8)
  åå­—å’Œç±»å‹éƒ½æ˜¯æŒ‡å‘UTF-8æè¿°çš„ï¼Œæœ¬èº«æ˜¯æ²¡æœ‰å†…å®¹çš„

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](../images/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2RhdGFpeWFuZ3U=,size_16,color_FFFFFF,t_70.png)
ä¸Šå›¾è¡¨ç¤ºäº†åå­—ä¸ºinitï¼Œç©ºå‚ï¼Œè¿”å›å€¼ä¸ºvoidçš„æ–¹æ³•ï¼Œå³é»˜è®¤çš„æ„é€ å‡½æ•°çš„è¡¨ç¤ºã€‚
### CONSTANT_Class
- tag 7
- name_index u2 (åå­—ï¼ŒæŒ‡å‘utf8)

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](../images/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2RhdGFpeWFuZ3U=,size_16,color_FFFFFF,t_70-20190304160706491.png)
### CONSTANT_Fieldref ,CONSTANT_Methodref ,CONSTANT_InterfaceMethodref
å­—æ®µã€æ–¹æ³•ã€æ¥å£æ–¹æ³•
- tag 9 ,10, 11
- class_index  u2 (æŒ‡å‘CONSTANT_Class)å±äºå“ªä¸ªç±»
- name_and_type_index u2 (æŒ‡å‘CONSTANT_NameAndType)æœ¬èº«çš„åå­—å’Œç±»å‹

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](../images/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2RhdGFpeWFuZ3U=,size_16,color_FFFFFF,t_70-20190304160706283.png)
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20190304073503808.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2RhdGFpeWFuZ3U=,size_16,color_FFFFFF,t_70)
## è®¿é—®æ ‡è¯†ç¬¦
access flag u2ï¼šç±»çš„æ ‡ç¤ºç¬¦
æ ¹æ®valueçš„å€¼åšåŒºåˆ†


Flag Name	    |Value	|Interpretation
|-|-|-|
ACC_PUBLIC	    |0x0001	|public
ACC_FINAL	    |0x0010	|final,ä¸èƒ½è¢«ç»§æ‰¿.
ACC_SUPER	    |0x0020	|æ˜¯å¦å…è®¸ä½¿ç”¨invokespecialæŒ‡ä»¤ï¼ŒJDK1.2åï¼Œè¯¥å€¼ä¸ºtrue
ACC_INTERFACE	|0x0200	|æ˜¯å¦æ˜¯æ¥å£
ACC_ABSTRACT	|0x0400	|æŠ½è±¡ç±»
ACC_SYNTHETIC	|0x1000	|è¯¥ç±»ä¸æ˜¯ç”±ç”¨æˆ·ä»£ç ç”Ÿæˆ,è¿è¡Œæ—¶ç”Ÿæˆçš„ï¼Œæ²¡æœ‰æºç 
ACC_ANNOTATION	|0x2000	|æ˜¯å¦ä¸ºæ³¨è§£
ACC_ENUM	    |0x4000	|æ˜¯å¦æ˜¯æšä¸¾
## ç±»ã€è¶…ç±»ã€æ¥å£
- this_class u2
  æŒ‡å‘å¸¸é‡æ± çš„Class
- super_class u2
  æŒ‡å‘å¸¸é‡æ± çš„Class
- interface_count u2
  æ¥å£æ•°é‡
- interfaces
  interface_count ä¸ª interface u2
  æ¯ä¸ªinterfaceæ˜¯æŒ‡å‘CONSTANT_Classçš„ç´¢å¼•
##  å­—æ®µ
- field_count
  å­—æ®µæ•°é‡
- fields
  field_countä¸ªfield_info
- field
  access_flags u2 
  name_index u2 
  descriptor_index u2 
  attributes_count u2 
  attribute_info attributes[attributes_count];
### access_flags
Flag Name	    |Value	|Interpretat
|--|--|--|      
ACC_PUBLIC	    |0x0001	|public     
ACC_PRIVATE	    |0x0002	|private    
ACC_PROTECTED	|0x0004	|protected  
ACC_STATIC	    |0x0008	|static.    
ACC_FINAL	    |0x0010	|final      
ACC_VOLATILE	|0x0040	|volatile   
ACC_TRANSIENT	|0x0080	|transient  
ACC_SYNTHETIC	|0x1000	|synthetic; 
ACC_ENUM	    |0x4000	|æšä¸¾ç±»å‹       
 - name_index u2
  å¸¸é‡æ± å¼•ç”¨ ï¼Œè¡¨ç¤ºå­—æ®µçš„åå­—
- descriptor_index
  è¡¨ç¤ºå­—æ®µçš„ç±»å‹
  ä¸ºäº†å°½é‡å°‘çš„å ç”¨ç©ºé—´ï¼Œç®€å•è¡¨ç¤º
                                              

-|-                                           
--|--                                         
|B |byte                                    | 
|C |char                                    | 
|D |double                                  | 
|F |float                                   | 
|I |int                                     | 
|J |long                                    | 
|S |short                                   | 
|Z |boolean                                 | 
|V |void                                    | 
|L |å¯¹è±¡Ljava/lang/Object;                    | 
|[ |  æ•°ç»„ [[Ljava/lang/String; = String[][] äºŒç»´æ•°ç»„[[ | 
### å°é—®é¢˜
descriptor_indexçš„å­—ç¬¦ä¸²å­˜æ”¾ä½ç½®åœ¨å“ªé‡Œï¼Ÿ

## æ–¹æ³•
- methods_count
  æ–¹æ³•æ•°é‡
- methods
  methods_countä¸ªmethod_info
### method_info
access_flags u2 
name_index u2 
descriptor_index u2 
attributes_count u2 
attribute_info attributes[attributes_count];
#### access flag
|-|-|-|
|--|--|--|
Flag Name	      |  Value	|Interpretation
ACC_PUBLIC	      |  0x0001	|public
ACC_PRIVATE	      |  0x0002	|private
ACC_PROTECTED	  |  0x0004	|protected
ACC_STATIC	      |  0x0008	|static
ACC_FINAL	      |  0x0010	|final
ACC_SYNCHRONIZED|	0x0020	|synchronized
ACC_BRIDGE	      |  0x0040	|ç¼–è¯‘å™¨äº§ç”Ÿ æ¡¥æ¥æ–¹æ³•
ACC_VARARGS	      |  0x0080	|å¯å˜å‚æ•°
ACC_NATIVE	      |  0x0100	|native
ACC_ABSTRACT	  |  0x0400	|abstract
ACC_STRICT	      |  0x0800	|strictfp
ACC_SYNTHETIC	  |  0x1000	|ä¸åœ¨æºç ä¸­ï¼Œç”±ç¼–è¯‘å™¨äº§
#### name_index u2
æ–¹æ³•åå­—ï¼Œå¸¸é‡æ± UTF-8ç´¢å¼•
#### descriptor_index u2
æè¿°ç¬¦ï¼Œç”¨äºè¡¨è¾¾æ–¹æ³•çš„å‚æ•°å’Œè¿”å›å€¼
- æ–¹æ³•æè¿°ç¬¦
  void inc()   ()V
  void setId(int)  (I)V
  int indexOf(char[],int ) ([CI)I
## å±æ€§
- åœ¨fieldå’Œmethodä¸­ï¼Œå¯ä»¥æœ‰è‹¥å¹²ä¸ªattributeï¼Œç±»æ–‡ä»¶ä¹Ÿæœ‰attributeï¼Œç”¨äºæè¿°ä¸€äº›é¢å¤–çš„ä¿¡æ¯
  attribute_name_index u2 
  åå­—ï¼ŒæŒ‡å‘å¸¸é‡æ± UTF-8
  attribute_length u4 
  é•¿åº¦
  info[attribute_length] u1
  å†…å®¹ 
- attributeæœ¬èº«ä¹Ÿå¯ä»¥åŒ…å«å…¶ä»–attribute(å³å¯åµŒå¥—çš„)
- éšç€JDKçš„å‘å±•ä¸æ–­æœ‰æ–°çš„attributeåŠ å…¥

|ç±»å‹	       |     åç§°	          |          æ•°é‡                        
|--|--|--|                                                         
u2	            |methods_count	     |   1                       | 
method_info	    |methods	         |       methods_count       | 
u2	            |attribute_count	 |       1                   | 
attribute_info	|attributes	         |   attributes_count        | 

| åç§°          | ä½¿ç”¨è€…       | æè¿°                   |
| ------------- | ------------ | ---------------------- |
| Deprecated    | field method | å­—æ®µã€æ–¹æ³•ã€ç±»è¢«åºŸå¼ƒ   |
| ConstantValue | field        | finalå¸¸é‡              |
| Code          | method       | æ–¹æ³•çš„å­—èŠ‚ç å’Œå…¶ä»–æ•°æ® |
| ptions        | method       | æ–¹æ³•çš„å¼‚å¸¸             |
|LineNumberTable	  |  Code_Attribute|æ–¹æ³•è¡Œå·å’Œå­—èŠ‚ç æ˜ å°„  
|LocalVaribleTable|	Code_Attribute|æ–¹æ³•å±€éƒ¨å˜é‡è¡¨æè¿°      | 
|ceFile	      |  Class file	   |æºæ–‡ä»¶å          | 
|hetic	      |  field method|ç¼–è¯‘å™¨äº§ç”Ÿçš„æ–¹æ³•æˆ–å­—æ®µ     | 
LineNUmberTableå’ŒLocalVatibleTableæ˜¯Code_attributeçš„ï¼Œå³Attributeæ˜¯å¯ä»¥åµŒå¥—ä½¿ç”¨çš„
### Deprecated
attribute_name_index u2
attribute_length u4
- attribute_name_index
  æŒ‡å‘åŒ…å«Deprecatedçš„UTF-8å¸¸é‡
- attribute_length
  ä¸º0
### ConstantantValue
attribute_name_index u2
attribute_length u4
constantvalue_index u2
- attribute_name_index
  åŒ…å«ConstantantValueå­—é¢é‡çš„UTF-8ç´¢å¼•
- attribute_length
  ä¸º2
- constantvalue_index
  å¸¸é‡å€¼ï¼ŒæŒ‡å‘å¸¸é‡æ± ï¼Œå¯ä»¥æ˜¯UTF-8ï¼ŒFloat, Double ç­‰


public static final int sid=99;
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](../images/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2RhdGFpeWFuZ3U=,size_16,color_FFFFFF,t_70-20190304160706370.png)
### Code

```js
Code_attribute {
    u2 attribute_name_index;//Code
    u4 attribute_length;
    u2 max_stack;
    u2 max_locals;
    u4 code_length;//å­—èŠ‚ç é•¿åº¦
    u1 code[code_length];//å­—èŠ‚ç 
    u2 exception_table_length;//å¼‚å¸¸è¡¨é•¿åº¦
    {   u2 start_pc;//å¼‚å¸¸å¤„ç†çš„å¼€å§‹ä½ç½®
        u2 end_pc;
        u2 handler_pc;//å¤„ç†è¿™ä¸ªå¼‚å¸¸çš„å­—èŠ‚ç ä½ç½®
        //å¦‚æœå‡ºç°å¼‚å¸¸å¤„ç†ä»£ç çš„æŒ‡é’ˆå°±ä¼šåç§»åˆ°è¿™é‡Œ
        u2 catch_type;//å¤„ç†çš„å¼‚å¸¸ç±»å‹ï¼ŒæŒ‡å‘Constant_Classçš„æŒ‡é’ˆ
        //æ˜¯ä»€ä¹ˆç±»å‹çš„å¼‚å¸¸
    } exception_table[exception_table_length];
    u2 attributes_count;//å±æ€§æ•°é‡
    //åœ¨codeåŸºç¡€ä¸Šå°è£…çš„å±æ€§ï¼Œæ¯”å¦‚LineNumberTable
    attribute_info attributes[attributes_count];
}
```
### LineNumberTable - Codeå±æ€§çš„å±æ€§(å­—èŠ‚ç çš„åç§»é‡å’Œå¯¹åº”çš„è¡Œå·)

```js
LineNumberTable_attribute {
    u2 attribute_name_index;//UTF-8å¸¸é‡æ± ï¼Œå­—é¢é‡LineNumberTable

    u4 attribute_length;

    u2 line_number_table_length;//è¡¨é¡¹

    {   u2 start_pc;//å­—èŠ‚ç åç§»é‡å’Œå¯¹åº”çš„è¡Œå·
        u2 line_number;	
    } line_number_table[line_number_table_length];
}
```
### LocalVariableTable -  Codeå±æ€§çš„å±æ€§(å±€éƒ¨å˜é‡è¡¨)

```js
LocalVariableTable_attribute {
    u2 attribute_name_index;//UTF-8å¸¸é‡æ± ï¼Œå­—é¢é‡LocalVariableTable
    u4 attribute_length;
    u2 local_variable_table_length;

    {   u2 start_pc;//å±€éƒ¨å˜é‡ä½œç”¨åŸŸï¼Œä»å“ªé‡Œå¼€å§‹
        u2 length;
        u2 name_index;//å±€éƒ¨å˜é‡åç§°
        u2 descriptor_index;//ç±»å‹
        u2 index;//å±€éƒ¨å˜é‡çš„Slotä½ç½®
        //å±€éƒ¨å˜é‡çš„slotæ˜¯èƒ½å¤Ÿé‡ç”¨çš„ï¼Œä¸ºäº†èŠ‚çœç©ºé—´ï¼Œåé¢å±€éƒ¨å˜é‡ä¼šé‡ç”¨å‰é¢å±€éƒ¨å˜é‡çš„slot
        //slotçš„æ„æ€æ˜¯â€å˜é‡æ§½â€œ
    } local_variable_table[local_variable_table_length];
}
```
### Exceptionså±æ€§
å’ŒCodeå±æ€§å¹³çº§
è¡¨ç¤ºæ–¹æ³•æŠ›å‡ºçš„å¼‚å¸¸ **<font color="red">   (ä¸æ˜¯try catchéƒ¨åˆ†ï¼Œè€Œæ˜¯ throwséƒ¨åˆ†) </font>**
- ç»“æ„
  attribute_name_index u2 
  attribute_length u4 
  number_of_exceptions u2 
  exception_index_table[number_of_exceptions] u2 è¿™ä¸ªclasså°±æ˜¯è¦æŠ›å‡ºçš„å¼‚å¸¸çš„ç±»
  æŒ‡å‘Constant_Classçš„ç´¢å¼•
#### ä¸¾ä¸ªğŸŒ°

```js
public void setAge(int age)  throws IOException{
	try{
		this.age = age;
	}catch(IllegalStateException e){
		this.age = 0;
	}
}
```
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](../images/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2RhdGFpeWFuZ3U=,size_16,color_FFFFFF,t_70-20190304160710163.png)
codeé‡Œé¢çš„Exceptionå³try catchçš„æ˜¯ç¬¬äº”ä¸ªå­—èŠ‚ç å¦‚æœå‘ç”Ÿäº†å¼‚å¸¸ï¼Œå°±è·³è½¬åˆ°ç¬¬å…«ä¸ªå­—èŠ‚ç ï¼Œä¸Šå°èŠ‚æœ‰è®²åˆ°ã€‚
### SourceFile
æè¿°ç”ŸæˆClassæ–‡ä»¶çš„æºç æ–‡ä»¶åç§°
- ç»“æ„
  attribute_name_index u2
  attribute_length u4
  å›ºå®šä¸º2
  soucefile_index u2æ–‡ä»¶å
  UTF-8å¸¸é‡ç´¢å¼•
# classæ–‡ä»¶ç»“æ„ğŸŒ°
## ä»£ç 
```js
public class User {
	private int id;
	private String name;
	private int age;
	public int getId() {
		return id;
	}
	public void setId(int id) {
		this.id = id;
	}
	public String getName() {
		return name;
	}
	public void setName(String name) {
		this.name = name;
	}
	public int getAge() {
		return age;
	}
	public void setAge(int age) {
		this.age = age;
	}
	
}
```
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](../images/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2RhdGFpeWFuZ3U=,size_16,color_FFFFFF,t_70-20190304160709322.png)
0123 é­”æ•°ï¼Œè¡¨ç¤ºæ˜¯classæ–‡ä»¶
45 å°ç‰ˆæœ¬
67 å¤§ç‰ˆæœ¬
89 å¸¸é‡æ± çš„ä¸ªæ•°0025è¡¨ç¤º36ä¸ªå¸¸é‡
æ¥ç€å¼€å§‹æè¿°å¸¸é‡æ± é‡Œé¢çš„å†…å®¹
A 07 è¡¨ç¤ºclassç±»å‹çš„å¸¸é‡ï¼ˆä¸Šé¢æœ‰å¯¹åº”çš„è¡¨æ ¼ï¼‰
classç±»å‹çš„å¸¸é‡é‡Œæœ‰0002ï¼Œè¡¨ç¤ºæŒ‡å‘å¸¸é‡æ± çš„æŒ‡é’ˆï¼Œè¿™ä¸ªç±»çš„utf-8çš„æè¿°æ˜¯å¸¸é‡æ± çš„ç¬¬äºŒä¸ªï¼Œç¬¬äºŒä¸ªæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿçœ‹D å‘ç°æ˜¯01ç±»å‹çš„å°±æ˜¯utf-8ã€‚ç„¶åæ˜¯é•¿åº¦001Bï¼Œå³27ï¼Œå†…å®¹æ˜¯geym/------------Userï¼Œè‡³æ­¤å®Œæ•´æè¿°äº†ä¸€ä¸ªç±»

å¸¸é‡æ± é‡Œé¢ä¸€å…±36ä¸ªï¼Œè¿™é‡Œä¸ä¸€ä¸€çš„è¿›è¡Œåˆ†æ
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](../images/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2RhdGFpeWFuZ3U=,size_16,color_FFFFFF,t_70-20190304160708880.png)
access_flagè®¿é—®æƒé™ 0021è¡¨ç¤ºpublicå’Œsuper
ç„¶åthisclassï¼Œè·Ÿä¸Šå¸¸é‡æ± çš„ç¬¬ä¸€ä¸ªï¼Œç¬¬ä¸€ä¸ªå°±æ˜¯ç±»æœ¬èº«
superclassï¼Œçˆ¶ç±»
interfaceï¼Œæ¥å£ï¼Œæ²¡æœ‰å®ç°æ¥å£ï¼Œæ‰€ä»¥æ˜¯0ï¼Œ
field count 0003ä¸‰ä¸ªï¼Œç¡®å®æ˜¯ä¸‰ä¸ªå­—æ®µ
0002 ç¬¬ä¸€ä¸ªå­—æ®µå¼€å§‹æè¿°äº†ï¼Œfield count ä¹‹åå°±æ˜¯å…·ä½“ä¿¡æ¯çš„æè¿°ï¼Œè¿™é‡Œçš„0002è¡¨ç¤ºfieldæ˜¯privateçš„å³ç§æœ‰çš„
0005 fieldåå­—çš„ç´¢å¼•åœ¨å¸¸é‡æ± ä¸­çš„ç´¢å¼•æ˜¯ç¬¬äº”ä¸ª
0006 æè¿°ç¬¦ï¼Œå¤§å†™çš„I è¡¨ç¤ºè¿™ä¸ªfieldçš„ç±»å‹æ˜¯ä¸€ä¸ªintç±»å‹
0000 attribute æ²¡æœ‰attribute

ä»¥æ­¤ç±»æ¨å°†ä¸‰ä¸ªfieldè§£è¯»ä¸€ä¸‹ã€‚
0007,fieldæè¿°å®Œä¹‹åå¼€å§‹æè¿°æ–¹æ³•method count 7ä¸ªæ–¹æ³•ä¸Šé¢ä¸€å…±æœ‰å…­ä¸ªï¼Œ7ä¸ªå› ä¸ºè¿˜æœ‰ä¸€ä¸ªæ„é€ å‡½æ•°
0001 publicæ–¹æ³•
000Aæ–¹æ³•åå­—çš„ç´¢å¼•è¡¨ç¤ºçš„æ˜¯initæ–¹æ³•ã€‚
000Bæ–¹æ³•æè¿°
0001attribute countå±æ€§çš„å€¼

ç¦»æ•£çš„æ ‡å‡ºäº†å‡ ä¸ªæ–¹æ³•çš„å¼€å§‹
00010013
00010017
000100
0001001D
0001001F

00010022è¡¨ç¤ºæœ€åä¸€ä¸ªæ–¹æ³•setAge
0018æ–¹æ³•çš„descritoræ–¹æ³•çš„æè¿°ç­¾å
0001attribute count 1
000c codeå±æ€§
0000003E changdu 62
0002max stackæœ€å¤§æ ˆçš„å¤§å°
0002max localsæœ€å¤§å±€éƒ¨å˜é‡è¡¨çš„å¤§å°![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](../images/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2RhdGFpeWFuZ3U=,size_16,color_FFFFFF,t_70-20190304160707218.png)
ä¸Šå›¾è¡¨ç¤ºcode
00000006 6ä¸ªbyte
2A1BB50020B1ç³»ç»Ÿä¸­çœŸæ­£è¿è¡Œçš„å­—èŠ‚ç 
0000å¼‚å¸¸è¡¨å› ä¸ºæ²¡æœ‰å¼‚å¸¸æ‰€ä»¥ä¸ºç©º
0002å±æ€§å±æ€§
000Flinenumbertable
0000000Aé•¿åº¦ä¸º10
0002linenumber table lenthè¡¨è±¡
0000 0017      0005 0018 åˆ†åˆ«ä¸ºåç§»é‡å’Œè¡Œå·
0010 å±€éƒ¨å˜é‡è¡¨
00000016 é•¿åº¦22
ã€‚ã€‚ã€‚
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20190304134755173.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2RhdGFpeWFuZ3U=,size_16,color_FFFFFF,t_70)
0002å±€éƒ¨å˜é‡è¡¨çš„è¡¨è±¡çš„é•¿åº¦
0000åç§»é‡
0006é•¿åº¦ä½œç”¨èŒƒå›´
0011ç¬¬ä¸€å±€éƒ¨å˜é‡çš„åå­—ï¼Œthis
0012å±€éƒ¨å˜é‡çš„ç±»å‹user
0000slotç¬¬ä¸€ä¸ªslotè¢«å®ƒæ‰€å 
00000006å¦ä¸€ä¸ªå±€éƒ¨å˜é‡çš„ä¿¡æ¯
0001attributeå…¶ä»–çš„å±æ€§ è¿˜æœ‰ä¸€ä¸ª
0023å“ªä¸ªæºæ–‡ä»¶å£°ç§°å‡ºæ¥çš„
00000002é•¿åº¦2
0024æŒ‡å‘ç´¢å¼•ï¼Œç±»æ˜¯ç”±User.javaç¼–è¯‘å‡ºæ¥çš„ã€‚